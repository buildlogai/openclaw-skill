import { z } from 'zod';

/**
 * @buildlog/types v2.0.0
 * Type definitions for the .buildlog file format
 *
 * Slim workflow format - prompts as artifacts, summaries over snapshots
 */
/**
 * The root structure of a .buildlog file
 */
interface BuildlogFile {
    /** Schema version (semver) */
    version: "2.0.0";
    /** Capture format - slim (default) or full */
    format: BuildlogFormat;
    /** Session metadata */
    metadata: BuildlogMetadata;
    /** Ordered list of workflow steps */
    steps: BuildlogStep[];
    /** Session outcome summary */
    outcome: BuildlogOutcome;
}
/**
 * Capture format type
 * - slim: Prompts + summaries only (default, 2-50KB typical)
 * - full: Includes full AI responses and diffs (opt-in, larger files)
 */
type BuildlogFormat = "slim" | "full";
/**
 * Metadata about the recording session
 */
interface BuildlogMetadata {
    /** Unique identifier (UUID v4) */
    id: string;
    /** Human-readable title */
    title: string;
    /** Optional longer description */
    description?: string;
    /** Author information */
    author?: BuildlogAuthor;
    /** When the session was recorded (ISO 8601) */
    createdAt: string;
    /** Total session duration in seconds */
    durationSeconds: number;
    /** Editor/IDE used */
    editor: EditorType;
    /** Primary AI provider used */
    aiProvider: AIProvider;
    /** Model identifier (e.g., "claude-sonnet-4", "gpt-4o") */
    model?: string;
    /** Primary programming language */
    language?: string;
    /** Framework used (e.g., "nextjs", "react", "express") */
    framework?: string;
    /** User-applied tags for discovery */
    tags?: string[];
    /** Can another agent follow this workflow? */
    replicable: boolean;
    /** Other buildlogs this builds upon (URLs or IDs) */
    dependencies?: string[];
}
interface BuildlogAuthor {
    name?: string;
    username?: string;
    url?: string;
}
type EditorType = "cursor" | "vscode" | "windsurf" | "zed" | "neovim" | "jetbrains" | "openclaw" | "other";
type AIProvider = "claude" | "gpt" | "copilot" | "gemini" | "other";
/**
 * Union type of all possible workflow steps
 */
type BuildlogStep = PromptStep | ActionStep | TerminalStep | NoteStep | CheckpointStep | ErrorStep;
/**
 * Base fields present on all steps
 */
interface BaseStep {
    /** Unique step identifier (UUID v4) */
    id: string;
    /** Seconds elapsed since session start */
    timestamp: number;
    /** Step sequence number (0-indexed) */
    sequence: number;
}
/**
 * User prompt sent to AI - THE PRIMARY ARTIFACT
 * Always captured in full - prompts are the real artifact
 */
interface PromptStep extends BaseStep {
    type: "prompt";
    /** The full prompt text (always captured) */
    content: string;
    /** File names referenced as context (NOT contents) */
    context?: string[];
    /** What the user is trying to accomplish */
    intent?: string;
}
/**
 * Summary of what the AI did - NOT full response or diffs
 */
interface ActionStep extends BaseStep {
    type: "action";
    /** Human/agent readable summary: "Created REST API with 4 endpoints" */
    summary: string;
    /** Paths of files created (just paths, not contents) */
    filesCreated?: string[];
    /** Paths of files modified (just paths, not contents) */
    filesModified?: string[];
    /** Paths of files deleted */
    filesDeleted?: string[];
    /** Packages added (e.g., ["stripe", "zod"]) */
    packagesAdded?: string[];
    /** Packages removed */
    packagesRemoved?: string[];
    /** Key decisions or approaches taken */
    approach?: string;
    /** Full AI response text - ONLY in full mode */
    aiResponse?: string;
    /** File diffs - ONLY in full mode */
    diffs?: Record<string, string>;
}
/**
 * Terminal command execution - command and outcome, not full output
 */
interface TerminalStep extends BaseStep {
    type: "terminal";
    /** Command that was run */
    command: string;
    /** Command outcome */
    outcome: "success" | "failure" | "partial";
    /** Summary of result (e.g., "Installed 3 packages" or "Build failed: type error") */
    summary?: string;
    /** Full terminal output - ONLY in full mode */
    output?: string;
    /** Exit code - ONLY in full mode */
    exitCode?: number;
}
/**
 * Human annotation/commentary
 */
interface NoteStep extends BaseStep {
    type: "note";
    /** Note content (supports markdown) */
    content: string;
    /** Optional category */
    category?: NoteCategory;
}
type NoteCategory = "explanation" | "tip" | "warning" | "decision" | "todo";
/**
 * Milestone marker in the session
 */
interface CheckpointStep extends BaseStep {
    type: "checkpoint";
    /** Checkpoint name */
    name: string;
    /** What's been accomplished so far */
    summary: string;
}
/**
 * Error that occurred during the session
 */
interface ErrorStep extends BaseStep {
    type: "error";
    /** Error message */
    message: string;
    /** How it was fixed */
    resolution?: string;
    /** Whether this error was resolved during the session */
    resolved: boolean;
}
/**
 * Summary of the session outcome
 */
interface BuildlogOutcome {
    /** Final status of the session */
    status: "success" | "partial" | "failure" | "abandoned";
    /** Summary of what was built: "Built a working Stripe integration with checkout and webhooks" */
    summary: string;
    /** Count of files created */
    filesCreated: number;
    /** Count of files modified */
    filesModified: number;
    /** Can another agent replicate this workflow? */
    canReplicate: boolean;
    /** Any caveats for replication */
    replicationNotes?: string;
}
/** All possible step types */
type StepType = BuildlogStep["type"];
/** Map from step type string to step interface */
type StepByType<T extends StepType> = Extract<BuildlogStep, {
    type: T;
}>;
/** Validation result */
interface ValidationResult {
    valid: boolean;
    errors?: ValidationError[];
    warnings?: ValidationWarning[];
}
interface ValidationError {
    path: string;
    message: string;
    code: string;
}
interface ValidationWarning {
    path: string;
    message: string;
    suggestion?: string;
}
/** Stats computed from a buildlog */
interface BuildlogStats {
    format: BuildlogFormat;
    durationSeconds: number;
    stepCount: number;
    promptCount: number;
    actionCount: number;
    terminalCount: number;
    noteCount: number;
    filesCreated: number;
    filesModified: number;
    isReplicable: boolean;
}
/** Size category for a buildlog */
type BuildlogSizeCategory = "tiny" | "small" | "medium" | "large";
/** @deprecated Use BuildlogStep instead */
type BuildlogEvent = BuildlogStep;
/** @deprecated Use StepType instead */
type EventType = StepType;

declare const BuildlogFormatSchema: z.ZodEnum<["slim", "full"]>;
declare const EditorTypeSchema: z.ZodEnum<["cursor", "vscode", "windsurf", "zed", "neovim", "jetbrains", "openclaw", "other"]>;
declare const AIProviderSchema: z.ZodEnum<["claude", "gpt", "copilot", "gemini", "other"]>;
declare const NoteCategorySchema: z.ZodEnum<["explanation", "tip", "warning", "decision", "todo"]>;
declare const TerminalOutcomeSchema: z.ZodEnum<["success", "failure", "partial"]>;
declare const OutcomeStatusSchema: z.ZodEnum<["success", "partial", "failure", "abandoned"]>;
declare const BuildlogAuthorSchema: z.ZodObject<{
    name: z.ZodOptional<z.ZodString>;
    username: z.ZodOptional<z.ZodString>;
    url: z.ZodOptional<z.ZodString>;
}, "strip", z.ZodTypeAny, {
    name?: string | undefined;
    username?: string | undefined;
    url?: string | undefined;
}, {
    name?: string | undefined;
    username?: string | undefined;
    url?: string | undefined;
}>;
declare const PromptStepSchema: z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"prompt">;
    content: z.ZodString;
    context: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    intent: z.ZodOptional<z.ZodString>;
}, "strip", z.ZodTypeAny, {
    type: "prompt";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    context?: string[] | undefined;
    intent?: string | undefined;
}, {
    type: "prompt";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    context?: string[] | undefined;
    intent?: string | undefined;
}>;
declare const ActionStepSchema: z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"action">;
    summary: z.ZodString;
    filesCreated: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    filesModified: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    filesDeleted: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    packagesAdded: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    packagesRemoved: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    approach: z.ZodOptional<z.ZodString>;
    aiResponse: z.ZodOptional<z.ZodString>;
    diffs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
}, "strip", z.ZodTypeAny, {
    type: "action";
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
    filesCreated?: string[] | undefined;
    filesModified?: string[] | undefined;
    filesDeleted?: string[] | undefined;
    packagesAdded?: string[] | undefined;
    packagesRemoved?: string[] | undefined;
    approach?: string | undefined;
    aiResponse?: string | undefined;
    diffs?: Record<string, string> | undefined;
}, {
    type: "action";
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
    filesCreated?: string[] | undefined;
    filesModified?: string[] | undefined;
    filesDeleted?: string[] | undefined;
    packagesAdded?: string[] | undefined;
    packagesRemoved?: string[] | undefined;
    approach?: string | undefined;
    aiResponse?: string | undefined;
    diffs?: Record<string, string> | undefined;
}>;
declare const TerminalStepSchema: z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"terminal">;
    command: z.ZodString;
    outcome: z.ZodEnum<["success", "failure", "partial"]>;
    summary: z.ZodOptional<z.ZodString>;
    output: z.ZodOptional<z.ZodString>;
    exitCode: z.ZodOptional<z.ZodNumber>;
}, "strip", z.ZodTypeAny, {
    type: "terminal";
    id: string;
    timestamp: number;
    sequence: number;
    command: string;
    outcome: "success" | "failure" | "partial";
    summary?: string | undefined;
    output?: string | undefined;
    exitCode?: number | undefined;
}, {
    type: "terminal";
    id: string;
    timestamp: number;
    sequence: number;
    command: string;
    outcome: "success" | "failure" | "partial";
    summary?: string | undefined;
    output?: string | undefined;
    exitCode?: number | undefined;
}>;
declare const NoteStepSchema: z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"note">;
    content: z.ZodString;
    category: z.ZodOptional<z.ZodEnum<["explanation", "tip", "warning", "decision", "todo"]>>;
}, "strip", z.ZodTypeAny, {
    type: "note";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    category?: "explanation" | "tip" | "warning" | "decision" | "todo" | undefined;
}, {
    type: "note";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    category?: "explanation" | "tip" | "warning" | "decision" | "todo" | undefined;
}>;
declare const CheckpointStepSchema: z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"checkpoint">;
    name: z.ZodString;
    summary: z.ZodString;
}, "strip", z.ZodTypeAny, {
    type: "checkpoint";
    name: string;
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
}, {
    type: "checkpoint";
    name: string;
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
}>;
declare const ErrorStepSchema: z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"error">;
    message: z.ZodString;
    resolution: z.ZodOptional<z.ZodString>;
    resolved: z.ZodBoolean;
}, "strip", z.ZodTypeAny, {
    type: "error";
    message: string;
    id: string;
    timestamp: number;
    sequence: number;
    resolved: boolean;
    resolution?: string | undefined;
}, {
    type: "error";
    message: string;
    id: string;
    timestamp: number;
    sequence: number;
    resolved: boolean;
    resolution?: string | undefined;
}>;
declare const BuildlogStepSchema: z.ZodDiscriminatedUnion<"type", [z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"prompt">;
    content: z.ZodString;
    context: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    intent: z.ZodOptional<z.ZodString>;
}, "strip", z.ZodTypeAny, {
    type: "prompt";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    context?: string[] | undefined;
    intent?: string | undefined;
}, {
    type: "prompt";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    context?: string[] | undefined;
    intent?: string | undefined;
}>, z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"action">;
    summary: z.ZodString;
    filesCreated: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    filesModified: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    filesDeleted: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    packagesAdded: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    packagesRemoved: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    approach: z.ZodOptional<z.ZodString>;
    aiResponse: z.ZodOptional<z.ZodString>;
    diffs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
}, "strip", z.ZodTypeAny, {
    type: "action";
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
    filesCreated?: string[] | undefined;
    filesModified?: string[] | undefined;
    filesDeleted?: string[] | undefined;
    packagesAdded?: string[] | undefined;
    packagesRemoved?: string[] | undefined;
    approach?: string | undefined;
    aiResponse?: string | undefined;
    diffs?: Record<string, string> | undefined;
}, {
    type: "action";
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
    filesCreated?: string[] | undefined;
    filesModified?: string[] | undefined;
    filesDeleted?: string[] | undefined;
    packagesAdded?: string[] | undefined;
    packagesRemoved?: string[] | undefined;
    approach?: string | undefined;
    aiResponse?: string | undefined;
    diffs?: Record<string, string> | undefined;
}>, z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"terminal">;
    command: z.ZodString;
    outcome: z.ZodEnum<["success", "failure", "partial"]>;
    summary: z.ZodOptional<z.ZodString>;
    output: z.ZodOptional<z.ZodString>;
    exitCode: z.ZodOptional<z.ZodNumber>;
}, "strip", z.ZodTypeAny, {
    type: "terminal";
    id: string;
    timestamp: number;
    sequence: number;
    command: string;
    outcome: "success" | "failure" | "partial";
    summary?: string | undefined;
    output?: string | undefined;
    exitCode?: number | undefined;
}, {
    type: "terminal";
    id: string;
    timestamp: number;
    sequence: number;
    command: string;
    outcome: "success" | "failure" | "partial";
    summary?: string | undefined;
    output?: string | undefined;
    exitCode?: number | undefined;
}>, z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"note">;
    content: z.ZodString;
    category: z.ZodOptional<z.ZodEnum<["explanation", "tip", "warning", "decision", "todo"]>>;
}, "strip", z.ZodTypeAny, {
    type: "note";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    category?: "explanation" | "tip" | "warning" | "decision" | "todo" | undefined;
}, {
    type: "note";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    category?: "explanation" | "tip" | "warning" | "decision" | "todo" | undefined;
}>, z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"checkpoint">;
    name: z.ZodString;
    summary: z.ZodString;
}, "strip", z.ZodTypeAny, {
    type: "checkpoint";
    name: string;
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
}, {
    type: "checkpoint";
    name: string;
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
}>, z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"error">;
    message: z.ZodString;
    resolution: z.ZodOptional<z.ZodString>;
    resolved: z.ZodBoolean;
}, "strip", z.ZodTypeAny, {
    type: "error";
    message: string;
    id: string;
    timestamp: number;
    sequence: number;
    resolved: boolean;
    resolution?: string | undefined;
}, {
    type: "error";
    message: string;
    id: string;
    timestamp: number;
    sequence: number;
    resolved: boolean;
    resolution?: string | undefined;
}>]>;
declare const BuildlogMetadataSchema: z.ZodObject<{
    id: z.ZodString;
    title: z.ZodString;
    description: z.ZodOptional<z.ZodString>;
    author: z.ZodOptional<z.ZodObject<{
        name: z.ZodOptional<z.ZodString>;
        username: z.ZodOptional<z.ZodString>;
        url: z.ZodOptional<z.ZodString>;
    }, "strip", z.ZodTypeAny, {
        name?: string | undefined;
        username?: string | undefined;
        url?: string | undefined;
    }, {
        name?: string | undefined;
        username?: string | undefined;
        url?: string | undefined;
    }>>;
    createdAt: z.ZodString;
    durationSeconds: z.ZodNumber;
    editor: z.ZodEnum<["cursor", "vscode", "windsurf", "zed", "neovim", "jetbrains", "openclaw", "other"]>;
    aiProvider: z.ZodEnum<["claude", "gpt", "copilot", "gemini", "other"]>;
    model: z.ZodOptional<z.ZodString>;
    language: z.ZodOptional<z.ZodString>;
    framework: z.ZodOptional<z.ZodString>;
    tags: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    replicable: z.ZodBoolean;
    dependencies: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
}, "strip", z.ZodTypeAny, {
    id: string;
    title: string;
    createdAt: string;
    durationSeconds: number;
    editor: "cursor" | "vscode" | "windsurf" | "zed" | "neovim" | "jetbrains" | "openclaw" | "other";
    aiProvider: "other" | "claude" | "gpt" | "copilot" | "gemini";
    replicable: boolean;
    description?: string | undefined;
    author?: {
        name?: string | undefined;
        username?: string | undefined;
        url?: string | undefined;
    } | undefined;
    model?: string | undefined;
    language?: string | undefined;
    framework?: string | undefined;
    tags?: string[] | undefined;
    dependencies?: string[] | undefined;
}, {
    id: string;
    title: string;
    createdAt: string;
    durationSeconds: number;
    editor: "cursor" | "vscode" | "windsurf" | "zed" | "neovim" | "jetbrains" | "openclaw" | "other";
    aiProvider: "other" | "claude" | "gpt" | "copilot" | "gemini";
    replicable: boolean;
    description?: string | undefined;
    author?: {
        name?: string | undefined;
        username?: string | undefined;
        url?: string | undefined;
    } | undefined;
    model?: string | undefined;
    language?: string | undefined;
    framework?: string | undefined;
    tags?: string[] | undefined;
    dependencies?: string[] | undefined;
}>;
declare const BuildlogOutcomeSchema: z.ZodObject<{
    status: z.ZodEnum<["success", "partial", "failure", "abandoned"]>;
    summary: z.ZodString;
    filesCreated: z.ZodNumber;
    filesModified: z.ZodNumber;
    canReplicate: z.ZodBoolean;
    replicationNotes: z.ZodOptional<z.ZodString>;
}, "strip", z.ZodTypeAny, {
    status: "success" | "failure" | "partial" | "abandoned";
    summary: string;
    filesCreated: number;
    filesModified: number;
    canReplicate: boolean;
    replicationNotes?: string | undefined;
}, {
    status: "success" | "failure" | "partial" | "abandoned";
    summary: string;
    filesCreated: number;
    filesModified: number;
    canReplicate: boolean;
    replicationNotes?: string | undefined;
}>;
declare const BuildlogFileSchema: z.ZodObject<{
    version: z.ZodLiteral<"2.0.0">;
    format: z.ZodEnum<["slim", "full"]>;
    metadata: z.ZodObject<{
        id: z.ZodString;
        title: z.ZodString;
        description: z.ZodOptional<z.ZodString>;
        author: z.ZodOptional<z.ZodObject<{
            name: z.ZodOptional<z.ZodString>;
            username: z.ZodOptional<z.ZodString>;
            url: z.ZodOptional<z.ZodString>;
        }, "strip", z.ZodTypeAny, {
            name?: string | undefined;
            username?: string | undefined;
            url?: string | undefined;
        }, {
            name?: string | undefined;
            username?: string | undefined;
            url?: string | undefined;
        }>>;
        createdAt: z.ZodString;
        durationSeconds: z.ZodNumber;
        editor: z.ZodEnum<["cursor", "vscode", "windsurf", "zed", "neovim", "jetbrains", "openclaw", "other"]>;
        aiProvider: z.ZodEnum<["claude", "gpt", "copilot", "gemini", "other"]>;
        model: z.ZodOptional<z.ZodString>;
        language: z.ZodOptional<z.ZodString>;
        framework: z.ZodOptional<z.ZodString>;
        tags: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
        replicable: z.ZodBoolean;
        dependencies: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    }, "strip", z.ZodTypeAny, {
        id: string;
        title: string;
        createdAt: string;
        durationSeconds: number;
        editor: "cursor" | "vscode" | "windsurf" | "zed" | "neovim" | "jetbrains" | "openclaw" | "other";
        aiProvider: "other" | "claude" | "gpt" | "copilot" | "gemini";
        replicable: boolean;
        description?: string | undefined;
        author?: {
            name?: string | undefined;
            username?: string | undefined;
            url?: string | undefined;
        } | undefined;
        model?: string | undefined;
        language?: string | undefined;
        framework?: string | undefined;
        tags?: string[] | undefined;
        dependencies?: string[] | undefined;
    }, {
        id: string;
        title: string;
        createdAt: string;
        durationSeconds: number;
        editor: "cursor" | "vscode" | "windsurf" | "zed" | "neovim" | "jetbrains" | "openclaw" | "other";
        aiProvider: "other" | "claude" | "gpt" | "copilot" | "gemini";
        replicable: boolean;
        description?: string | undefined;
        author?: {
            name?: string | undefined;
            username?: string | undefined;
            url?: string | undefined;
        } | undefined;
        model?: string | undefined;
        language?: string | undefined;
        framework?: string | undefined;
        tags?: string[] | undefined;
        dependencies?: string[] | undefined;
    }>;
    steps: z.ZodArray<z.ZodDiscriminatedUnion<"type", [z.ZodObject<{
        id: z.ZodString;
        timestamp: z.ZodNumber;
        sequence: z.ZodNumber;
    } & {
        type: z.ZodLiteral<"prompt">;
        content: z.ZodString;
        context: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
        intent: z.ZodOptional<z.ZodString>;
    }, "strip", z.ZodTypeAny, {
        type: "prompt";
        id: string;
        timestamp: number;
        sequence: number;
        content: string;
        context?: string[] | undefined;
        intent?: string | undefined;
    }, {
        type: "prompt";
        id: string;
        timestamp: number;
        sequence: number;
        content: string;
        context?: string[] | undefined;
        intent?: string | undefined;
    }>, z.ZodObject<{
        id: z.ZodString;
        timestamp: z.ZodNumber;
        sequence: z.ZodNumber;
    } & {
        type: z.ZodLiteral<"action">;
        summary: z.ZodString;
        filesCreated: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
        filesModified: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
        filesDeleted: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
        packagesAdded: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
        packagesRemoved: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
        approach: z.ZodOptional<z.ZodString>;
        aiResponse: z.ZodOptional<z.ZodString>;
        diffs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, "strip", z.ZodTypeAny, {
        type: "action";
        id: string;
        timestamp: number;
        sequence: number;
        summary: string;
        filesCreated?: string[] | undefined;
        filesModified?: string[] | undefined;
        filesDeleted?: string[] | undefined;
        packagesAdded?: string[] | undefined;
        packagesRemoved?: string[] | undefined;
        approach?: string | undefined;
        aiResponse?: string | undefined;
        diffs?: Record<string, string> | undefined;
    }, {
        type: "action";
        id: string;
        timestamp: number;
        sequence: number;
        summary: string;
        filesCreated?: string[] | undefined;
        filesModified?: string[] | undefined;
        filesDeleted?: string[] | undefined;
        packagesAdded?: string[] | undefined;
        packagesRemoved?: string[] | undefined;
        approach?: string | undefined;
        aiResponse?: string | undefined;
        diffs?: Record<string, string> | undefined;
    }>, z.ZodObject<{
        id: z.ZodString;
        timestamp: z.ZodNumber;
        sequence: z.ZodNumber;
    } & {
        type: z.ZodLiteral<"terminal">;
        command: z.ZodString;
        outcome: z.ZodEnum<["success", "failure", "partial"]>;
        summary: z.ZodOptional<z.ZodString>;
        output: z.ZodOptional<z.ZodString>;
        exitCode: z.ZodOptional<z.ZodNumber>;
    }, "strip", z.ZodTypeAny, {
        type: "terminal";
        id: string;
        timestamp: number;
        sequence: number;
        command: string;
        outcome: "success" | "failure" | "partial";
        summary?: string | undefined;
        output?: string | undefined;
        exitCode?: number | undefined;
    }, {
        type: "terminal";
        id: string;
        timestamp: number;
        sequence: number;
        command: string;
        outcome: "success" | "failure" | "partial";
        summary?: string | undefined;
        output?: string | undefined;
        exitCode?: number | undefined;
    }>, z.ZodObject<{
        id: z.ZodString;
        timestamp: z.ZodNumber;
        sequence: z.ZodNumber;
    } & {
        type: z.ZodLiteral<"note">;
        content: z.ZodString;
        category: z.ZodOptional<z.ZodEnum<["explanation", "tip", "warning", "decision", "todo"]>>;
    }, "strip", z.ZodTypeAny, {
        type: "note";
        id: string;
        timestamp: number;
        sequence: number;
        content: string;
        category?: "explanation" | "tip" | "warning" | "decision" | "todo" | undefined;
    }, {
        type: "note";
        id: string;
        timestamp: number;
        sequence: number;
        content: string;
        category?: "explanation" | "tip" | "warning" | "decision" | "todo" | undefined;
    }>, z.ZodObject<{
        id: z.ZodString;
        timestamp: z.ZodNumber;
        sequence: z.ZodNumber;
    } & {
        type: z.ZodLiteral<"checkpoint">;
        name: z.ZodString;
        summary: z.ZodString;
    }, "strip", z.ZodTypeAny, {
        type: "checkpoint";
        name: string;
        id: string;
        timestamp: number;
        sequence: number;
        summary: string;
    }, {
        type: "checkpoint";
        name: string;
        id: string;
        timestamp: number;
        sequence: number;
        summary: string;
    }>, z.ZodObject<{
        id: z.ZodString;
        timestamp: z.ZodNumber;
        sequence: z.ZodNumber;
    } & {
        type: z.ZodLiteral<"error">;
        message: z.ZodString;
        resolution: z.ZodOptional<z.ZodString>;
        resolved: z.ZodBoolean;
    }, "strip", z.ZodTypeAny, {
        type: "error";
        message: string;
        id: string;
        timestamp: number;
        sequence: number;
        resolved: boolean;
        resolution?: string | undefined;
    }, {
        type: "error";
        message: string;
        id: string;
        timestamp: number;
        sequence: number;
        resolved: boolean;
        resolution?: string | undefined;
    }>]>, "many">;
    outcome: z.ZodObject<{
        status: z.ZodEnum<["success", "partial", "failure", "abandoned"]>;
        summary: z.ZodString;
        filesCreated: z.ZodNumber;
        filesModified: z.ZodNumber;
        canReplicate: z.ZodBoolean;
        replicationNotes: z.ZodOptional<z.ZodString>;
    }, "strip", z.ZodTypeAny, {
        status: "success" | "failure" | "partial" | "abandoned";
        summary: string;
        filesCreated: number;
        filesModified: number;
        canReplicate: boolean;
        replicationNotes?: string | undefined;
    }, {
        status: "success" | "failure" | "partial" | "abandoned";
        summary: string;
        filesCreated: number;
        filesModified: number;
        canReplicate: boolean;
        replicationNotes?: string | undefined;
    }>;
}, "strip", z.ZodTypeAny, {
    outcome: {
        status: "success" | "failure" | "partial" | "abandoned";
        summary: string;
        filesCreated: number;
        filesModified: number;
        canReplicate: boolean;
        replicationNotes?: string | undefined;
    };
    version: "2.0.0";
    format: "slim" | "full";
    metadata: {
        id: string;
        title: string;
        createdAt: string;
        durationSeconds: number;
        editor: "cursor" | "vscode" | "windsurf" | "zed" | "neovim" | "jetbrains" | "openclaw" | "other";
        aiProvider: "other" | "claude" | "gpt" | "copilot" | "gemini";
        replicable: boolean;
        description?: string | undefined;
        author?: {
            name?: string | undefined;
            username?: string | undefined;
            url?: string | undefined;
        } | undefined;
        model?: string | undefined;
        language?: string | undefined;
        framework?: string | undefined;
        tags?: string[] | undefined;
        dependencies?: string[] | undefined;
    };
    steps: ({
        type: "prompt";
        id: string;
        timestamp: number;
        sequence: number;
        content: string;
        context?: string[] | undefined;
        intent?: string | undefined;
    } | {
        type: "action";
        id: string;
        timestamp: number;
        sequence: number;
        summary: string;
        filesCreated?: string[] | undefined;
        filesModified?: string[] | undefined;
        filesDeleted?: string[] | undefined;
        packagesAdded?: string[] | undefined;
        packagesRemoved?: string[] | undefined;
        approach?: string | undefined;
        aiResponse?: string | undefined;
        diffs?: Record<string, string> | undefined;
    } | {
        type: "terminal";
        id: string;
        timestamp: number;
        sequence: number;
        command: string;
        outcome: "success" | "failure" | "partial";
        summary?: string | undefined;
        output?: string | undefined;
        exitCode?: number | undefined;
    } | {
        type: "note";
        id: string;
        timestamp: number;
        sequence: number;
        content: string;
        category?: "explanation" | "tip" | "warning" | "decision" | "todo" | undefined;
    } | {
        type: "checkpoint";
        name: string;
        id: string;
        timestamp: number;
        sequence: number;
        summary: string;
    } | {
        type: "error";
        message: string;
        id: string;
        timestamp: number;
        sequence: number;
        resolved: boolean;
        resolution?: string | undefined;
    })[];
}, {
    outcome: {
        status: "success" | "failure" | "partial" | "abandoned";
        summary: string;
        filesCreated: number;
        filesModified: number;
        canReplicate: boolean;
        replicationNotes?: string | undefined;
    };
    version: "2.0.0";
    format: "slim" | "full";
    metadata: {
        id: string;
        title: string;
        createdAt: string;
        durationSeconds: number;
        editor: "cursor" | "vscode" | "windsurf" | "zed" | "neovim" | "jetbrains" | "openclaw" | "other";
        aiProvider: "other" | "claude" | "gpt" | "copilot" | "gemini";
        replicable: boolean;
        description?: string | undefined;
        author?: {
            name?: string | undefined;
            username?: string | undefined;
            url?: string | undefined;
        } | undefined;
        model?: string | undefined;
        language?: string | undefined;
        framework?: string | undefined;
        tags?: string[] | undefined;
        dependencies?: string[] | undefined;
    };
    steps: ({
        type: "prompt";
        id: string;
        timestamp: number;
        sequence: number;
        content: string;
        context?: string[] | undefined;
        intent?: string | undefined;
    } | {
        type: "action";
        id: string;
        timestamp: number;
        sequence: number;
        summary: string;
        filesCreated?: string[] | undefined;
        filesModified?: string[] | undefined;
        filesDeleted?: string[] | undefined;
        packagesAdded?: string[] | undefined;
        packagesRemoved?: string[] | undefined;
        approach?: string | undefined;
        aiResponse?: string | undefined;
        diffs?: Record<string, string> | undefined;
    } | {
        type: "terminal";
        id: string;
        timestamp: number;
        sequence: number;
        command: string;
        outcome: "success" | "failure" | "partial";
        summary?: string | undefined;
        output?: string | undefined;
        exitCode?: number | undefined;
    } | {
        type: "note";
        id: string;
        timestamp: number;
        sequence: number;
        content: string;
        category?: "explanation" | "tip" | "warning" | "decision" | "todo" | undefined;
    } | {
        type: "checkpoint";
        name: string;
        id: string;
        timestamp: number;
        sequence: number;
        summary: string;
    } | {
        type: "error";
        message: string;
        id: string;
        timestamp: number;
        sequence: number;
        resolved: boolean;
        resolution?: string | undefined;
    })[];
}>;
type BuildlogFileFromSchema = z.infer<typeof BuildlogFileSchema>;
type BuildlogStepFromSchema = z.infer<typeof BuildlogStepSchema>;
/** @deprecated Use BuildlogStepSchema instead */
declare const BuildlogEventSchema: z.ZodDiscriminatedUnion<"type", [z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"prompt">;
    content: z.ZodString;
    context: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    intent: z.ZodOptional<z.ZodString>;
}, "strip", z.ZodTypeAny, {
    type: "prompt";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    context?: string[] | undefined;
    intent?: string | undefined;
}, {
    type: "prompt";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    context?: string[] | undefined;
    intent?: string | undefined;
}>, z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"action">;
    summary: z.ZodString;
    filesCreated: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    filesModified: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    filesDeleted: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    packagesAdded: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    packagesRemoved: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    approach: z.ZodOptional<z.ZodString>;
    aiResponse: z.ZodOptional<z.ZodString>;
    diffs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
}, "strip", z.ZodTypeAny, {
    type: "action";
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
    filesCreated?: string[] | undefined;
    filesModified?: string[] | undefined;
    filesDeleted?: string[] | undefined;
    packagesAdded?: string[] | undefined;
    packagesRemoved?: string[] | undefined;
    approach?: string | undefined;
    aiResponse?: string | undefined;
    diffs?: Record<string, string> | undefined;
}, {
    type: "action";
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
    filesCreated?: string[] | undefined;
    filesModified?: string[] | undefined;
    filesDeleted?: string[] | undefined;
    packagesAdded?: string[] | undefined;
    packagesRemoved?: string[] | undefined;
    approach?: string | undefined;
    aiResponse?: string | undefined;
    diffs?: Record<string, string> | undefined;
}>, z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"terminal">;
    command: z.ZodString;
    outcome: z.ZodEnum<["success", "failure", "partial"]>;
    summary: z.ZodOptional<z.ZodString>;
    output: z.ZodOptional<z.ZodString>;
    exitCode: z.ZodOptional<z.ZodNumber>;
}, "strip", z.ZodTypeAny, {
    type: "terminal";
    id: string;
    timestamp: number;
    sequence: number;
    command: string;
    outcome: "success" | "failure" | "partial";
    summary?: string | undefined;
    output?: string | undefined;
    exitCode?: number | undefined;
}, {
    type: "terminal";
    id: string;
    timestamp: number;
    sequence: number;
    command: string;
    outcome: "success" | "failure" | "partial";
    summary?: string | undefined;
    output?: string | undefined;
    exitCode?: number | undefined;
}>, z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"note">;
    content: z.ZodString;
    category: z.ZodOptional<z.ZodEnum<["explanation", "tip", "warning", "decision", "todo"]>>;
}, "strip", z.ZodTypeAny, {
    type: "note";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    category?: "explanation" | "tip" | "warning" | "decision" | "todo" | undefined;
}, {
    type: "note";
    id: string;
    timestamp: number;
    sequence: number;
    content: string;
    category?: "explanation" | "tip" | "warning" | "decision" | "todo" | undefined;
}>, z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"checkpoint">;
    name: z.ZodString;
    summary: z.ZodString;
}, "strip", z.ZodTypeAny, {
    type: "checkpoint";
    name: string;
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
}, {
    type: "checkpoint";
    name: string;
    id: string;
    timestamp: number;
    sequence: number;
    summary: string;
}>, z.ZodObject<{
    id: z.ZodString;
    timestamp: z.ZodNumber;
    sequence: z.ZodNumber;
} & {
    type: z.ZodLiteral<"error">;
    message: z.ZodString;
    resolution: z.ZodOptional<z.ZodString>;
    resolved: z.ZodBoolean;
}, "strip", z.ZodTypeAny, {
    type: "error";
    message: string;
    id: string;
    timestamp: number;
    sequence: number;
    resolved: boolean;
    resolution?: string | undefined;
}, {
    type: "error";
    message: string;
    id: string;
    timestamp: number;
    sequence: number;
    resolved: boolean;
    resolution?: string | undefined;
}>]>;

/**
 * Check if a filename has a valid buildlog extension
 */
declare function isBuildlogFile(filename: string): boolean;
/**
 * Get the file extension for buildlog files
 */
declare function getBuildlogExtension(): string;
/**
 * Get the MIME type for buildlog files
 */
declare function getBuildlogMimeType(): string;
/**
 * Validate a buildlog file
 */
declare function validateBuildlog(data: unknown): ValidationResult;
/**
 * Parse and validate a buildlog JSON string
 */
declare function parseBuildlog(json: string): BuildlogFile;
/**
 * Safely parse a buildlog, returning null on failure
 */
declare function safeParseBuildlog(json: string): BuildlogFile | null;
/**
 * Compute statistics from a buildlog
 */
declare function computeStats(buildlog: BuildlogFile): BuildlogStats;
/**
 * Estimate size category for a buildlog
 */
declare function estimateBuildlogSize(buildlog: BuildlogFile): BuildlogSizeCategory;
/**
 * Check if a buildlog is replicable (can be followed by another agent)
 */
declare function isReplicable(buildlog: BuildlogFile): boolean;
/**
 * Convert a buildlog to slim format (strips full mode data)
 */
declare function toSlim(buildlog: BuildlogFile): BuildlogFile;
/**
 * Format duration in seconds to human readable string
 */
declare function formatDuration(seconds: number): string;
/**
 * Format duration as MM:SS or HH:MM:SS
 */
declare function formatDurationClock(seconds: number): string;
/**
 * Format bytes to human readable string
 */
declare function formatBytes(bytes: number): string;
/**
 * Get step icon for display
 */
declare function getStepIcon(step: BuildlogStep): string;
/**
 * Get human readable step type label
 */
declare function getStepLabel(step: BuildlogStep): string;
/**
 * Detect programming language from file path
 */
declare function detectLanguage(filePath: string): string;
/**
 * Generate a slug from a title
 */
declare function slugify(title: string): string;
/** @deprecated Use getStepIcon instead */
declare const getEventIcon: typeof getStepIcon;
/** @deprecated Use getStepLabel instead */
declare const getEventLabel: typeof getStepLabel;

/** Current buildlog schema version */
declare const BUILDLOG_VERSION = "2.0.0";
/** Default capture format */
declare const BUILDLOG_DEFAULT_FORMAT = "slim";
/** MIME type for buildlog files */
declare const BUILDLOG_MIME_TYPE = "application/vnd.buildlog+json";
/** Valid file extensions for buildlog files */
declare const BUILDLOG_EXTENSIONS: string[];
/** Default file extension */
declare const BUILDLOG_DEFAULT_EXTENSION = ".buildlog";
/** Maximum recommended file size for slim buildlogs (100KB warning threshold) */
declare const BUILDLOG_MAX_SLIM_SIZE_BYTES: number;
/** Maximum recommended file size for full buildlogs (50MB) */
declare const BUILDLOG_MAX_FULL_SIZE_BYTES: number;
/** Maximum recommended steps per buildlog */
declare const BUILDLOG_MAX_STEPS = 500;
/** Maximum title length */
declare const BUILDLOG_MAX_TITLE_LENGTH = 200;
/** Maximum description length */
declare const BUILDLOG_MAX_DESCRIPTION_LENGTH = 2000;
/** Maximum tags */
declare const BUILDLOG_MAX_TAGS = 20;
/** Maximum tag length */
declare const BUILDLOG_MAX_TAG_LENGTH = 50;
/** Files/patterns that should always be ignored during capture */
declare const BUILDLOG_IGNORE_PATTERNS: string[];

export { type AIProvider, AIProviderSchema, type ActionStep, ActionStepSchema, BUILDLOG_DEFAULT_EXTENSION, BUILDLOG_DEFAULT_FORMAT, BUILDLOG_EXTENSIONS, BUILDLOG_IGNORE_PATTERNS, BUILDLOG_MAX_DESCRIPTION_LENGTH, BUILDLOG_MAX_FULL_SIZE_BYTES, BUILDLOG_MAX_SLIM_SIZE_BYTES, BUILDLOG_MAX_STEPS, BUILDLOG_MAX_TAGS, BUILDLOG_MAX_TAG_LENGTH, BUILDLOG_MAX_TITLE_LENGTH, BUILDLOG_MIME_TYPE, BUILDLOG_VERSION, type BaseStep, type BuildlogAuthor, BuildlogAuthorSchema, type BuildlogEvent, BuildlogEventSchema, type BuildlogFile, type BuildlogFileFromSchema, BuildlogFileSchema, type BuildlogFormat, BuildlogFormatSchema, type BuildlogMetadata, BuildlogMetadataSchema, type BuildlogOutcome, BuildlogOutcomeSchema, type BuildlogSizeCategory, type BuildlogStats, type BuildlogStep, type BuildlogStepFromSchema, BuildlogStepSchema, type CheckpointStep, CheckpointStepSchema, type EditorType, EditorTypeSchema, type ErrorStep, ErrorStepSchema, type EventType, type NoteCategory, NoteCategorySchema, type NoteStep, NoteStepSchema, OutcomeStatusSchema, type PromptStep, PromptStepSchema, type StepByType, type StepType, TerminalOutcomeSchema, type TerminalStep, TerminalStepSchema, type ValidationError, type ValidationResult, type ValidationWarning, computeStats, detectLanguage, estimateBuildlogSize, formatBytes, formatDuration, formatDurationClock, getBuildlogExtension, getBuildlogMimeType, getEventIcon, getEventLabel, getStepIcon, getStepLabel, isBuildlogFile, isReplicable, parseBuildlog, safeParseBuildlog, slugify, toSlim, validateBuildlog };
